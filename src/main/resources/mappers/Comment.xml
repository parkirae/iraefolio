<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.iraefolio.mapper.CommentMapper">

    <!-- READ -->
    <select id="read" resultType="com.iraefolio.domain.CommentEntity">
        SELECT *
        FROM TB_COMMENT
        WHERE
        1=1
        AND CATEGORY = #{category}
        AND POST_ID = #{post_id}
    </select>

    <insert id="create">
        INSERT INTO TB_COMMENT(USERNAME, MEMBER_ID, WRITER, CONTENT, POST_ID, CATEGORY, CREATE_DT)
        VALUES (#{USERNAME}, #{MEMBER_ID}, #{WRITER}, #{CONTENT}, #{POST_ID}, #{CATEGORY}, current_timestamp)
    </insert>

</mapper>